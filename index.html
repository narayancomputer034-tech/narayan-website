<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Narayan Seller Central</title>
    <style>
        :root { --amazon-blue: #232f3e; --amazon-orange: #febd69; --amazon-yellow: #ffd814; --bg: #eaeded; }
        body { font-family: Arial, sans-serif; background: var(--bg); margin: 0; }
        header { background: var(--amazon-blue); color: white; padding: 12px; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; }
        .product-card { background: white; margin: 10px; padding: 12px; border-radius: 4px; box-shadow: 0 1px 2px rgba(0,0,0,0.1); }
        /* Image Slider Style */
        .img-slider { display: flex; overflow-x: auto; scroll-snap-type: x mandatory; gap: 5px; scrollbar-width: none; }
        .img-slider img { width: 100%; height: 250px; object-fit: contain; scroll-snap-align: start; flex-shrink: 0; }
        .price-box { margin: 10px 0; }
        .mrp { text-decoration: line-through; color: #565959; font-size: 14px; }
        .off-price { color: #B12704; font-size: 20px; font-weight: bold; }
        .btn-amazon { background: var(--amazon-yellow); border: 1px solid #fcd200; border-radius: 20px; padding: 12px; width: 100%; font-weight: bold; cursor: pointer; margin-top: 10px; }
        .step-page { display: none; padding: 20px; background: white; min-height: 100vh; }
        input, textarea, select { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #888; border-radius: 4px; box-sizing: border-box; }
        .payment-opt { border: 1px solid #ddd; padding: 15px; border-radius: 5px; margin-bottom: 10px; display: flex; align-items: center; gap: 10px; }
    </style>
</head>
<body>

<header>
    <div style="font-size: 20px; font-weight: bold; color: var(--amazon-orange);">narayan.in</div>
    <div onclick="location.reload()" style="cursor: pointer;">üè† Home</div>
</header>

<div id="home-page">
    <div id="product-list"></div>
    <div style="text-align: center; padding: 20px;">
        <button onclick="checkAdmin()" style="background:none; border:none; color:#777; font-size:12px;">üîê Admin Login</button>
    </div>
</div>

<div id="checkout-page" class="step-page">
    <h2>Checkout</h2>
    <input type="text" id="cName" placeholder="‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ">
    <input type="number" id="cPhone" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞">
    <textarea id="cAddr" placeholder="‡§™‡•Ç‡§∞‡§æ ‡§™‡§§‡§æ"></textarea>
    
    <h3>Payment Method</h3>
    <div class="payment-opt">
        <input type="radio" name="pay" value="UPI Online" checked> UPI Online (9708797335@ybl)
    </div>
    <div class="payment-opt">
        <input type="radio" name="pay" value="Cash on Delivery"> Cash on Delivery
    </div>
    
    <button class="btn-amazon" onclick="finalizeOrder()">Order on WhatsApp</button>
    <button onclick="location.reload()" style="width:100%; margin-top:10px; border:none; background:none;">Cancel</button>
</div>

<div id="admin-page" class="step-page">
    <h2 style="color: var(--amazon-blue);">Add New Product</h2>
    <input type="text" id="p_name" placeholder="‡§™‡•ç‡§∞‡•ã‡§°‡§ï‡•ç‡§ü ‡§ï‡§æ ‡§®‡§æ‡§Æ">
    <textarea id="p_desc" placeholder="‡§™‡•ç‡§∞‡•ã‡§°‡§ï‡•ç‡§ü ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä (Detail)"></textarea>
    <input type="text" id="p_size" placeholder="‡§∏‡§æ‡§á‡§ú‡§º (‡§ú‡•à‡§∏‡•á: 15.6 inch, XL, ‡§Ü‡§¶‡§ø)">
    <input type="number" id="p_mrp" placeholder="MRP (‡§Ö‡§∏‡§≤‡•Ä ‡§¶‡§æ‡§Æ)">
    <input type="number" id="p_sale" placeholder="Offer Price (‡§¨‡•á‡§ö‡§®‡•á ‡§µ‡§æ‡§≤‡§æ ‡§¶‡§æ‡§Æ)">
    
    <label>‡§™‡•ç‡§∞‡•ã‡§°‡§ï‡•ç‡§ü ‡§ï‡•Ä ‡§´‡•ã‡§ü‡•ã ‡§ö‡•Å‡§®‡•á‡§Ç (‡§è‡§ï ‡§∏‡§æ‡§• ‡§ï‡§à ‡§ö‡•Å‡§®‡•á‡§Ç):</label>
    <input type="file" id="p_files" accept="image/*" multiple style="border:none;">
    
    <button class="btn-amazon" onclick="liveProduct()">üöÄ Live ‡§ï‡§∞‡•á‡§Ç</button>
    <button onclick="location.reload()" style="width:100%; margin-top:10px;">Back</button>
</div>

<script>
    let products = JSON.parse(localStorage.getItem('amazon_prods')) || [];
    let selectedProd = null;

    function render() {
        const list = document.getElementById('product-list');
        if(products.length === 0) {
            list.innerHTML = `<p style="text-align:center; padding:50px;">‡§ï‡•ã‡§à ‡§™‡•ç‡§∞‡•ã‡§°‡§ï‡•ç‡§ü ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§ ‡§è‡§°‡§Æ‡§ø‡§® ‡§Æ‡•á‡§Ç ‡§ú‡§æ‡§ï‡§∞ ‡§ú‡•ã‡•ú‡•á‡§Ç‡•§</p>`;
            return;
        }
        list.innerHTML = products.map(p => `
            <div class="product-card">
                <div class="img-slider">
                    ${p.imgs.map(img => `<img src="${img}">`).join('')}
                </div>
                <p style="font-size:12px; color:#565959; margin-top:5px;">Swipe ‚Üî to see more</p>
                <h3 style="margin:10px 0 5px 0;">${p.name}</h3>
                <p style="font-size:14px; color:#333; margin:0;">${p.desc}</p>
                <p style="font-size:13px; color:#565959;">Size: ${p.size}</p>
                <div class="price-box">
                    <span class="mrp">M.R.P: ‚Çπ${p.mrp}</span><br>
                    <span class="off-price">‚Çπ${p.sale}</span>
                </div>
                <button class="btn-amazon" onclick="startOrder('${p.name}', ${p.sale})">Buy Now</button>
            </div>
        `).join('');
    }

    function liveProduct() {
        const name = document.getElementById('p_name').value;
        const desc = document.getElementById('p_desc').value;
        const size = document.getElementById('p_size').value;
        const mrp = document.getElementById('p_mrp').value;
        const sale = document.getElementById('p_sale').value;
        const files = document.getElementById('p_files').files;

        if(!name || files.length === 0) return alert("‡§®‡§æ‡§Æ ‡§î‡§∞ ‡§´‡•ã‡§ü‡•ã ‡•õ‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•à‡§Ç!");

        let imgUrls = [];
        let loaded = 0;

        for(let i=0; i<files.length; i++) {
            let reader = new FileReader();
            reader.onload = function(e) {
                imgUrls.push(e.target.result);
                loaded++;
                if(loaded === files.length) {
                    products.unshift({ id:Date.now(), name, desc, size, mrp, sale, imgs: imgUrls });
                    localStorage.setItem('amazon_prods', JSON.stringify(products));
                    alert("‡§™‡•ç‡§∞‡•ã‡§°‡§ï‡•ç‡§ü ‡§≤‡§æ‡§á‡§µ ‡§π‡•ã ‡§ó‡§Ø‡§æ!");
                    location.reload();
                }
            };
            reader.readAsDataURL(files[i]);
        }
    }

    function startOrder(name, price) {
        selectedProd = { name, price };
        document.getElementById('home-page').style.display = 'none';
        document.getElementById('checkout-page').style.display = 'block';
    }

    function finalizeOrder() {
        const n = document.getElementById('cName').value;
        const p = document.getElementById('cPhone').value;
        const a = document.getElementById('cAddr').value;
        const pay = document.querySelector('input[name="pay"]:checked').value;

        if(!n || !p || !a) return alert("‡§™‡•Ç‡§∞‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§≠‡§∞‡•á‡§Ç!");

        const msg = `*‡§®‡§Ø‡§æ ‡§Ü‡§∞‡•ç‡§°‡§∞!*%0A*‡§∏‡§æ‡§Æ‡§æ‡§®:* ${selectedProd.name}%0A*‡§¶‡§æ‡§Æ:* ‚Çπ${selectedProd.price}%0A*‡§ó‡•ç‡§∞‡§æ‡§π‡§ï:* ${n}%0A*‡§´‡•ã‡§®:* ${p}%0A*‡§™‡§§‡§æ:* ${a}%0A*‡§™‡•á‡§Æ‡•á‡§Ç‡§ü:* ${pay}`;
        window.open(`https://wa.me/919708797335?text=${msg}`, '_blank');
    }

    function checkAdmin() {
        if(prompt("Admin Password:") === "7482") {
            document.getElementById('home-page').style.display = 'none';
            document.getElementById('admin-page').style.display = 'block';
        }
    }

    render();
</script>
</body>
</html>
